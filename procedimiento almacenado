--PROCEDIMIENTO ALMACENADO QUE INSERTE EL NOMBRE DE UN VETERINARIO Y MUESTRE TOTAL DE VACUNAS POR MASCOTA--
GO
CREATE PROCEDURE SERVICIO1
@NOMBRE VARCHAR(50) AS
SELECT V.Nombre, V.Apellido,M.Nombre AS Nombre_Mascota, COUNT(D.Mascotapk) AS Total_Vacunas  FROM DETALLE_VACUNA D
 INNER JOIN VETERINARIOS V ON V.id_Veterinario=D.Veterinariopk
 INNER JOIN MASCOTA M ON M.id_Mascota=D.Mascotapk
 WHERE V.Nombre=@NOMBRE GROUP BY V.Nombre,V.Apellido,M.Nombre
GO
EXEC SERVICIO1 'Jose'
