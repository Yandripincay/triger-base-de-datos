--TRIGGER QUE LLEVE EL REGISTRO EN UN LOOG, EL NOMBRE DE FABRICANTE Y PRECIO DE CIERTOS PRODUCTOS--
CREATE TABLE HISTORIAL (
fecha date,
id_insumo int,
Fabricante varchar(30))
SELECT * FROM HISTORIAL;
-- ACTUALIZAR INSUMO --
GO
CREATE OR ALTER TRIGGER TR_INSUMO_ACT 
ON INSUMOS FOR UPDATE 
AS
SET NOCOUNT ON
DECLARE @id_insumo INT
SELECT @id_insumo = id_insumo FROM INSERTED
INSERT INTO HISTORIAL VALUES(GETDATE(),@id_insumo,
'Insumo Actualizado')
GO
UPDATE INSUMOS SET Fabricante='SuanFarma' where id_INSUMO = 1
UPDATE INSUMOS SET PVP=19.50 where id_INSUMO = 1
UPDATE INSUMOS SET Fabricante='SuanFarma' where id_INSUMO = 2 
UPDATE INSUMOS SET PVP=25.20 where id_INSUMO = 2
SELECT *  FROM HISTORIAL
SELECT * FROM INSUMOS
